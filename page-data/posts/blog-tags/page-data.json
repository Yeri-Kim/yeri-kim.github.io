{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/blog-tags/","webpackCompilationHash":"ffb757c571991280dd91","result":{"data":{"markdownRemark":{"id":"a886cf0f-28a9-579c-a793-5631e5a1903f","html":"<p>원래 gatsby 블로그에 검색기능을 추가하려고 했지만, 당장 구현할 수 없음을 깨닫고 홈 화면에 태그 목록을 추가해보려고 합니다.\n<a href=\"https://yeri-kim.github.io/posts/blog-search/\">검색기능을 추가하려고 시도했던 포스팅</a>을 참고해주세요.</p>\n<h2 id=\"태그-관련-컴포넌트\"><a href=\"#%ED%83%9C%EA%B7%B8-%EA%B4%80%EB%A0%A8-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8\" aria-label=\"태그 관련 컴포넌트 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>태그 관련 컴포넌트</h2>\n<p>태그 관련한 기능은 제가 선택한 gatsby theme에 잘 구현되어 있습니다.\ngatsby theme 코드 분석은 gatsby를 공부하기에도 좋고, react를 공부하기에도 좋습니다!\n태그 관련 파일 위치를 한 번 볼까요?</p>\n<ol>\n<li><strong>특정 태그의 포스팅 목록 페이지</strong>:  <code class=\"language-text\">/src/templates/tags-template.js</code></li>\n<li><strong>태그 목록 페이지</strong>:  <code class=\"language-text\">/src/templates/tags-list-template.js</code></li>\n<li><strong>포스팅의 하단 태그 목록</strong>: <code class=\"language-text\">/src/components/Post/Tags/Tags.js</code></li>\n</ol>\n<p>왼쪽 사이드 메뉴 하단에 태그목록을 보여주는 컴포넌트를 직접 개발하려고 했는데,\n이미 컴포넌트가 잘 만들어져있기에 갖다 쓰겠습니다 :)</p>\n<h2 id=\"왼쪽-사이드메뉴-하단에-태그-추가하기\"><a href=\"#%EC%99%BC%EC%AA%BD-%EC%82%AC%EC%9D%B4%EB%93%9C%EB%A9%94%EB%89%B4-%ED%95%98%EB%8B%A8%EC%97%90-%ED%83%9C%EA%B7%B8-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"왼쪽 사이드메뉴 하단에 태그 추가하기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>왼쪽 사이드메뉴 하단에 태그 추가하기</h2>\n<p>Tags 컴포넌트를 쓰면 딱일 것 같네요!\n홈페이지의 왼쪽 사이드 영역 컴포넌트를 찾아서 Tags 컴포넌트를 추가해보겠습니다.</p>\n<p>구조가 참 잘 짜여있나봐요! 바로 찾았습니다.</p>\n<ul>\n<li>\n<p><code class=\"language-text\">/src/components/Sidebar/Sidebar.js</code></p>\n<div>\n<img style=\"display: inline-block;\" src=\"/media/190810-4.png\" width=\"200\">\n<img style=\"display: inline-block;\" src=\"/media/190810-5.png\" width=\"300\">\n</div>\n</li>\n</ul>\n<p>Sidebar의 Copyright 바로 밑에 Tags 컴포넌트를 추가하면 될 것 같습니다.</p>\n<h3 id=\"tags-컴포넌트\"><a href=\"#tags-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8\" aria-label=\"tags 컴포넌트 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tags 컴포넌트</h3>\n<p>Tags 컴포넌트를 바로 갖다 쓰기 전에 필요한 props와 데이터 구조를 파악해야합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// @flow</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> styles <span class=\"token keyword\">from</span> <span class=\"token string\">'./Tags.module.scss'</span><span class=\"token punctuation\">;</span>\n\ntype Props <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  tags<span class=\"token punctuation\">:</span> string<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  tagSlugs<span class=\"token punctuation\">:</span> string<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Tags</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> tags<span class=\"token punctuation\">,</span> tagSlugs <span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> Props</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">[</span><span class=\"token string\">'tags'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">[</span><span class=\"token string\">'tags__list'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>tagSlugs <span class=\"token operator\">&amp;&amp;</span> tagSlugs<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">slug<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">[</span><span class=\"token string\">'tags__list-item'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>tags<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>slug<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">[</span><span class=\"token string\">'tags__list-item-link'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token punctuation\">{</span>tags<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Tags<span class=\"token punctuation\">;</span></code></pre></div>\n<p>tag명으로 구성된 배열인 <code class=\"language-text\">tags</code>와 tag url로 구성된 배열인 <code class=\"language-text\">tagSlugs</code>가 필요해보입니다.</p>\n<h3 id=\"sidebar-컴포넌트\"><a href=\"#sidebar-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8\" aria-label=\"sidebar 컴포넌트 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sidebar 컴포넌트</h3>\n<p>Sidebar 컴포넌트에 Tags 컴포넌트를 추가하고, 데이터를 잘 정제하여 보내줍니다.\ntag 목록을 가져오기 위해 useTagsList() 을 사용하였습니다.</p>\n<p>tag 목록을 가져오는 쿼리가 궁금하다면 <code class=\"language-text\">/src/hooks/use-tags-list.js</code> 에서 보시고, <a href=\"http://localhost:8000/__graphql\">http://localhost:8000/__graphql</a> 에서 직접 쿼리해보세요!</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// @flow</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Author <span class=\"token keyword\">from</span> <span class=\"token string\">'./Author'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Contacts <span class=\"token keyword\">from</span> <span class=\"token string\">'./Contacts'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Copyright <span class=\"token keyword\">from</span> <span class=\"token string\">'./Copyright'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Menu <span class=\"token keyword\">from</span> <span class=\"token string\">'./Menu'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> styles <span class=\"token keyword\">from</span> <span class=\"token string\">'./Sidebar.module.scss'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useSiteMetadata<span class=\"token punctuation\">,</span> useTagsList <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../hooks'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Tags <span class=\"token keyword\">from</span> <span class=\"token string\">'../Post/Tags'</span><span class=\"token punctuation\">;</span>\n\ntype Props <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  isIndex<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> boolean\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Sidebar</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> isIndex <span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> Props</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> author<span class=\"token punctuation\">,</span> copyright<span class=\"token punctuation\">,</span> menu <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useSiteMetadata</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> tags <span class=\"token operator\">=</span> <span class=\"token function\">useTagsList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">[</span><span class=\"token string\">'sidebar'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">[</span><span class=\"token string\">'sidebar__inner'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Author</span></span> <span class=\"token attr-name\">author</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>author<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">isIndex</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>isIndex<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Menu</span></span> <span class=\"token attr-name\">menu</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>menu<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Contacts</span></span> <span class=\"token attr-name\">contacts</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>author<span class=\"token punctuation\">.</span>contacts<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Copyright</span></span> <span class=\"token attr-name\">copyright</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>copyright<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tags</span></span>\n          <span class=\"token attr-name\">tags</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>tags<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tag</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> tag<span class=\"token punctuation\">.</span>fieldValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">tagSlugs</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>tags<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tag</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token template-string\"><span class=\"token string\">`/tag/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>tag<span class=\"token punctuation\">.</span>fieldValue<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Sidebar<span class=\"token punctuation\">;</span></code></pre></div>\n<p>오! 잘 추가가 되었습니다.\n<img style=\"display: inline-block;\" src=\"/media/190810-7.png\" width=\"300\"></p>\n<p>그런데 문제가 몇 개 있어 보입니다.</p>\n<ol>\n<li>그 동안 포스팅에 category만 추가했지, tag는 몇 개 추가한게 없어서 태그 목록이 많지 않습니다. => 해결: 포스팅 하나하나 수작업으로 추가한다.</li>\n<li>태그 대/소문자를 구분하므로 통일시켜야겠네요. => 해결: 쿼리로 해보려고 했으나 실패. 수작업으로 대/소문자 통일한다.</li>\n<li>사이드바에서 태그들이 커보여서 css를 조금 수정하겠습니다. => 해결: 아래 내용 참고하여 수정!</li>\n</ol>\n<p>참고로 frontmatter에서 태그는 아래와 같이 추가합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">---\ntitle: &quot;gatsby 블로그에 태그목록 추가하기&quot;\ndate: &quot;2019-08-10T06:43:32.169Z&quot;\ntemplate: &quot;post&quot;\ndraft: false\nslug: &quot;/posts/blog-tags/&quot;\ncategory: &quot;gatsby&quot;\ndescription: &quot;gatsby로 만든 블로그에 태그목록을 추가하여 포스팅을 쉽게 찾을 수 있도록 하겠습니다.&quot;\ntags:\n  - &quot;gatsby&quot;\n  - &quot;graqhql&quot;\n  - &quot;tag&quot;\n---</code></pre></div>\n<h3 id=\"css-module\"><a href=\"#css-module\" aria-label=\"css module permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>css-module</h3>\n<p>이제는 css를 수정하겠습니다. sidebar 내부에 있는 tag만 작게 보일 수 있도록 스타일을 추가할 것입니다.\n(포스팅 페이지 하단에 있는 tag 스타일은 영향이 가지 않도록)</p>\n<p>gatsby에서 css를 수정하려면 sass와 css-module을 알고 있어야합니다.</p>\n<p><a href=\"https://www.gatsbyjs.org/docs/css-modules/\">css-module</a> 는 css를 모듈화 해주는 것입니다.\n예를 들어, cra에서 컴포넌트별로 css파일을 분리해서 작성하지만 빌드하면 하나의 css 파일로 합쳐집니다.\n그래서 같은 클래스명을 사용하면 충돌나기 십상이라 클래스 작명에 신경써야 하고 css selector을 주의하여 써야합니다.</p>\n<p>css module을 사용하면 css가 해당 component에서만 적용되도록 css 명이 바뀌어서 scope가 한정될 수 있도록 해줍니다.</p>\n<p>그렇기 때문에 지금과 같이 .sidebar 내에 있는 .tags인 경우에만 스타일을 바꾸고 싶을 때,\n평소처럼 sidebar selector를 .tags 위에 추가해준다고 해서 적용되지 않습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token comment\">//예를 들어 이렇게</span>\n<span class=\"token selector\">.sidebar </span><span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">.tags </span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//태그 박스 작게</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"css-수정\"><a href=\"#css-%EC%88%98%EC%A0%95\" aria-label=\"css 수정 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>css 수정</h3>\n<p>css-module 쓰는 건 알겠고, 이럴 경우 css를 sidebar 컴포넌트 쪽 css파일에 추가해야할까요? 아님 tag 쪽에 추가해야할까요?</p>\n<p>무조건 sidebar 밑에 있는 tag에만 스타일을 적용시킬 것이라 혼란이 오겠지만, 저라면 tag 컴포넌트에 있는 css에 추가하겠습니다.\ntag component를 수정하다가 스타일도 수정하게 될 경우, 바로 옆에 있는 파일을 수정하면 유지/보수에 편리하기 때문입니다.</p>\n<p>하지만 무조건 sidebar 내에서만 tags의 스타일을 변경해줄 것이므로 sidebar쪽에 추가해도 될 것 같다는 생각입니다.\n좀 더 공부하고 명확한 기준이 생기면 포스팅을 수정하도록 하겠습니다!</p>\n<p>제가 구현한 방법은\nSidebar에서 Tags 컴포넌트를 사용할 때, Sidebar 내부인지 아닌지 알려주는 inSidebar라는 props를 넘겼습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tags</span></span>\n  <span class=\"token attr-name\">tags</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>tags<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tag</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> tag<span class=\"token punctuation\">.</span>fieldValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">tagSlugs</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>tags<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tag</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token template-string\"><span class=\"token string\">`/tag/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>tag<span class=\"token punctuation\">.</span>fieldValue<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">inSidebar</span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>Tags 컴포넌트에서는 inSidebar 여부에 따라 class를 추가해주었습니다.\nclassnames의 cx() 메서드를 사용하여 중복 class를 부여할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// @flow</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> cx <span class=\"token keyword\">from</span> <span class=\"token string\">'classnames'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> styles <span class=\"token keyword\">from</span> <span class=\"token string\">'./Tags.module.scss'</span><span class=\"token punctuation\">;</span>\n\ntype Props <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  tags<span class=\"token punctuation\">:</span> string<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  tagSlugs<span class=\"token punctuation\">:</span> string<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  inSidebar<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> boolean\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Tags</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> tags<span class=\"token punctuation\">,</span> tagSlugs<span class=\"token punctuation\">,</span> inSidebar <span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> Props</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">[</span><span class=\"token string\">'tags'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">[</span><span class=\"token string\">'tags__list'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>tagSlugs <span class=\"token operator\">&amp;&amp;</span> tagSlugs<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">slug<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span>\n          <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">cx</span><span class=\"token punctuation\">(</span>\n            styles<span class=\"token punctuation\">[</span><span class=\"token string\">'tags__list-item'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            inSidebar <span class=\"token operator\">&amp;&amp;</span> styles<span class=\"token punctuation\">[</span><span class=\"token string\">'tags_insidebar__list-item'</span><span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>tags<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span>\n            <span class=\"token attr-name\">to</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>slug<span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">cx</span><span class=\"token punctuation\">(</span>\n              styles<span class=\"token punctuation\">[</span><span class=\"token string\">'tags__list-item-link'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n              inSidebar <span class=\"token operator\">&amp;&amp;</span> styles<span class=\"token punctuation\">[</span><span class=\"token string\">'tags_insidebar__list-item-link'</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token punctuation\">{</span>tags<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Tags<span class=\"token punctuation\">;</span></code></pre></div>\n<p>코드가 지저분해진 것은 기분탓일까요?</p>\n<p>만약 앞으로 Tags 컴포넌트가 쓰이는 곳이 많아지는데,\nSidebar에서만 다른 스타일을 주고 싶은 것이라면 비효율적인 코드같습니다.\n좋은 아이디어 있다면 제보 부탁드립니다.</p>\n<img src=\"/media/190810-8.png\" width=\"200\" >\n<p>네!! 드디어 원하는대로 바꼈습니다. 이제 저는 모든 포스팅에 tag 추가하러 가야겠습니다.</p>\n<p>이만 -</p>","fields":{"slug":"/posts/blog-tags/","tagSlugs":["/tag/gatsby/","/tag/graqhql/","/tag/css-module/","/tag/sass/","/tag/css/"]},"frontmatter":{"date":"2019-08-10T06:43:32.169Z","description":"gatsby로 만든 블로그에 태그목록을 추가하여 포스팅을 쉽게 찾을 수 있도록 하겠습니다.","tags":["gatsby","graqhql","css-module","sass","css"],"title":"gatsby 블로그에 태그목록 추가하기"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/blog-tags/"}}}