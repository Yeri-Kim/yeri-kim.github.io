{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/eslint-prettier/","webpackCompilationHash":"fffa06068c17230b332c","result":{"data":{"markdownRemark":{"id":"3f37424f-18a9-54ed-9d1a-4e6cc078a3bf","html":"<p><a href=\"https://eslint.org/\">ESLint</a>는 자바스크립트 문법이나 code convention을 검사하는 도구(linting utility)이다.\n자바스크립트는 정적 컴파일을 하지 않는 인터프리터 언어다. 따라서 사소한 타이핑 실수를 알아채지 못한 채 잘못된 프로그램을 배포할 수 있다.\n요즘의 library, framework들은 기본적으로 이런 검사 도구가 세팅되어있기 때문에 걱정할 필요가 없다.\nESLit로 코드를 검사하고 잠재적인 문제들에 대해 경고를 해준다.</p>\n<p>이번에는 Editor에도 설치해서 개발단계에서부터 코드를 검사할 수 있도록 하고, ESLint에 추가적인 룰을 적용해보려고 한다.</p>\n<p>JavaScript Style Guide 중에서 Airbnb 것이 제일 강력하기 때문에 학생들에게 코드리뷰를 할 때 <a href=\"https://github.com/airbnb/javascript\">Airbnb JavaScript Style Guide</a>를 기준으로\n코드를 작성하라고 했었는데, 초반엔 잘 따라하다가 바빠지면 점점 코드 스타일이 많이 망가지곤 했다.</p>\n<p>처음부터 ESLint, Prettier를 사용하면 손에 익숙해지지 않을 것 같아서 따로 알려주지 않다가, 이번 기업 협업 때 ESLint 피드백이 들어와서 가르치는게 좋겠다고 생각했다.\n자동으로 format을 잡아주더라도, 계속 눈으로 보면 익숙해질 것이다.</p>\n<p><a href=\"https://prettier.io/\">Prettier</a>는 code formatter이다. 설정한 ESLint 룰에 따라 Prettier가 자동으로 format을 잡아준다.</p>\n<h3 id=\"cra에-eslint-추가하기\"><a href=\"#cra%EC%97%90-eslint-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"cra에 eslint 추가하기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CRA에 ESLint 추가하기</h3>\n<p>원래 ESLint를 사용하려면 프로젝트에 install 해야하지만, CRA는 기본적으로 ESLint 세팅이 되어있다.\nESLint의 결과는 dev server를 띄운 터미널에도 계속 나오고, 브라우저 console창에도 계속 나온다.\n하지만 rule을 무시했다고 error가 뜨는 것은 아니며, code style도 다 지적해주는 것이 아니므로 개발하는데는 아무 지장이 없다.</p>\n<p>Editor에 ESLint와 Prettier 플러그인을 설치하여 개발단계에서 룰을 적용할 수 있도록 바꿔보겠다. 늘상 그렇지만 <a href=\"https://facebook.github.io/create-react-app/docs/setting-up-your-editor\">공식 문서</a>에 너무 잘 나와있다.</p>\n<h4 id=\"플러그인-설치\"><a href=\"#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98\" aria-label=\"플러그인 설치 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>플러그인 설치</h4>\n<ol>\n<li>ESLint 플러그인 설치 - VSCode</li>\n</ol>\n<p>  Code - Preference - Extentions 에서 ESLint 검색 후 설치\n<img src=\"/media/190708-1.png\"></p>\n<ol start=\"2\">\n<li>ESLint 플러그인 설치 - Westorm</li>\n</ol>\n<p>  wip</p>\n<h4 id=\"eslint-세팅\"><a href=\"#eslint-%EC%84%B8%ED%8C%85\" aria-label=\"eslint 세팅 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ESLint 세팅</h4>\n<p>프로젝트 root에 <code class=\"language-text\">.eslintrc.json</code> 라는 이름의 파일을 추가하고 아래 내용을 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-app\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이제 터미널에서만 보였던 warning이 Editor에도 뜰 것이다.\n<img src=\"/media/190708-2.png\"></p>\n<p>이미 packages.json에도 있는 rule이지만, Editor가 ESLint를 알아차리려면 해당 파일이 꼭 추가 되어야한다.</p>\n<h3 id=\"cra에-prettier-추가하기\"><a href=\"#cra%EC%97%90-prettier-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"cra에 prettier 추가하기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CRA에 Prettier 추가하기</h3>\n<p>ESLint만으로 부족하다.\n혼자 개발하면 몰라도, 여러 명이 같이 일하고 있기 때문에 다른 사람의 코드를 보고 짜증나지 않으려면 서로 format을 맞추어 동일한 code style을 유지해야한다.\n그걸 Prettier가 알아서 format을 맞춰주겠다는 것이고, Editor에 플러그인을 추가하여 강제로(자동으로) formatting을 하려고 한다.</p>\n<h4 id=\"플러그인-설치-1\"><a href=\"#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98-1\" aria-label=\"플러그인 설치 1 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>플러그인 설치</h4>\n<ol>\n<li>Prettier 플러그인 설치 - VSCode</li>\n</ol>\n<p>  Code - Preference - Extentions 에서 Prettier 검색 후 설치\n<img src=\"/media/190708-3.png\"></p>\n<ol start=\"2\">\n<li>Prettier 플러그인 설치 - Westorm</li>\n</ol>\n<p>  wip</p>\n<h4 id=\"prettier-설치\"><a href=\"#prettier-%EC%84%A4%EC%B9%98\" aria-label=\"prettier 설치 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prettier 설치</h4>\n<p>Prettier을 사용하려면 install을 해야한다. 그리고 eslint rule에 따라 formatting도 추가or삭제할 것이므로 eslint관련 패키지도 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm i prettier eslint-config-prettier eslint-plugin-prettier -D</code></pre></div>\n<h4 id=\"prettier-세팅\"><a href=\"#prettier-%EC%84%B8%ED%8C%85\" aria-label=\"prettier 세팅 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prettier 세팅</h4>\n<ol>\n<li>VSCode</li>\n</ol>\n<p>  Code - Preference - Settings\n<img src=\"/media/190708-4.png\"></p>\n<p>  우측 상단에 {} 를 눌러주어 json파일 형태로 바꾼다. 그리고 아래 6개 프로퍼티를 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"editor.formatOnSave\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"[javascript]\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"editor.formatOnSave\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"eslint.autoFixOnSave\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"eslint.alwaysShowStatus\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"prettier.disableLanguages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"js\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"files.autoSave\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"onFocusChange\"</span></code></pre></div>\n<p>  <img src=\"/media/190708-5.png\"></p>\n<p>  위의 설정을 추가하면 나의 코드에(캡쳐는 진짜 내 코드 아님ㅎㅎ) 온통 빨간색으로 밑줄이 쳐진다.\n뭐가 문제인지 mouse를 올려보면 된다.\n<img src=\"/media/190708-6.png\"></p>\n<p>  이 상태에서, 파일 수정하고 ctrl+s하면 자동으로 format 되어 저장된다. 아래는 엔터 한 번 치고 저장해본 결과이다.\n<img src=\"/media/190708-7.gif\">\n아무리 자동저장일지라도 계속 눈에 익히고, 예쁜 code style로 코드를 작성할 수 있도록 노력하자!!!</p>\n<ol start=\"2\">\n<li>Webstorm</li>\n</ol>\n<p>  wip</p>","fields":{"slug":"/posts/eslint-prettier/","tagSlugs":["/tag/react/","/tag/eslint/"]},"frontmatter":{"date":"2019-07-08T13:42:32.169Z","description":null,"tags":["react","eslint"],"title":"CRA에 ESLint와 Prettier 추가하기"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/eslint-prettier/"}}}